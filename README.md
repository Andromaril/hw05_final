# hw05_final

[![CI](https://github.com/yandex-praktikum/hw05_final/actions/workflows/python-app.yml/badge.svg?branch=master)](https://github.com/yandex-praktikum/hw05_final/actions/workflows/python-app.yml)

Продолжение учебного проекта yatube.

*1. С помощью sorl-thumbnail выведены иллюстрации к постам:*

в шаблон главной страницы,

в шаблон профайла автора,

в шаблон страницы группы,

на отдельную страницу поста.

*Написаны тесты, которые проверяют:*

при выводе поста с картинкой изображение передаётся в словаре context

  на главную страницу,

  на страницу профайла,

  на страницу группы,

  на отдельную страницу поста;

при отправке поста с картинкой через форму PostForm создаётся запись в базе данных;

*2. Создана система комментариев*

  Написана система комментирования записей. На странице поста под текстом записи выводится форма для отправки комментария, а ниже — список комментариев. Комментировать   могут только авторизованные пользователи. Работоспособность модуля протестирована.

*3. Кеширование главной страницы*

Список постов на главной странице сайта хранится в кэше и обновляется раз в 20 секунд.

*4. Тестирование кэша*

Написан тест для проверки кеширования главной страницы. Логика теста: при удалении записи из базы, она остаётся в response.content главной страницы до тех пор, пока кэш не будет очищен принудительно.

*Финальное задание спринта*

Созданы кастомные страницы для ошибок

  404 page_not_found
   
  403 permission_denied_view

Написан тест, проверяющий, что страница 404 отдаёт кастомный шаблон.

Добавлена в проект систему подписки на авторов и создать ленту их постов.

*Модель Follow должна имеет такие поля:*

user — ссылка на объект пользователя, который подписывается. Укажите имя связи: related_name='follower'

author — ссылка на объект пользователя, на которого подписываются, имя связи пусть будет related_name='following'

Написана view-функцию страницы, куда будут выведены посты авторов, на которых подписан текущий пользователь.

Ещё две view-функции нужны для подписки на интересного автора и для того, чтобы отписаться от надоевшего графомана

*Создан шаблон posts/follow.html, куда будут выводиться посты авторов, на которых подписан текущий пользователь.*

Написаны тесты, проверяющие работу нового сервиса.

Авторизованный пользователь может подписываться на других пользователей и удалять их из подписок.

Новая запись пользователя появляется в ленте тех, кто на него подписан и не появляется в ленте тех, кто не подписан.
